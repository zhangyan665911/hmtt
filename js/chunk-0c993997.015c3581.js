(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0c993997"],{4353:function(e,r,t){"use strict";var o=t("d0c8"),n=t.n(o);n.a},"9ed6":function(e,r,t){"use strict";t.r(r);var o=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",[t("van-nav-bar",{attrs:{title:"登录","left-arrow":""},on:{"click-left":function(r){return e.$router.back()}}}),t("van-cell-group",[t("van-field",{attrs:{required:"","error-message":e.mobile_error,placeholder:"请输入手机号",label:"手机号"},on:{blur:e.checkMobile},model:{value:e.loginForm.mobile,callback:function(r){e.$set(e.loginForm,"mobile",r)},expression:"loginForm.mobile"}}),t("van-field",{attrs:{required:"","error-message":e.code_error,placeholder:"请输入验证码",label:"验证码"},on:{blur:e.checkCode},model:{value:e.loginForm.code,callback:function(r){e.$set(e.loginForm,"code",r)},expression:"loginForm.code"}},[t("div",{attrs:{slot:"button"},slot:"button"},[t("van-button",{attrs:{type:"primary",size:"small"}},[e._v("发送验证码")])],1)])],1),t("div",{staticClass:"btn-login"},[t("van-button",{attrs:{type:"info",block:"",round:"",size:"small"},on:{click:e.login}},[e._v("登录")])],1)],1)},n=[],i=(t("96cf"),t("1da1")),c=t("4360"),u=t("c24f"),l={name:"login",data:function(){return{loginForm:{mobile:"13911111111",code:"246810"},mobile_error:"",code_error:""}},methods:{checkMobile:function(){return this.loginForm.mobile?/^1[3-9]\d{9}$/.test(this.loginForm.mobile)?(this.mobile_error="",!0):(this.mobile_error="手机号格式不正确",!1):(this.mobile_error="手机号不能为空",!1)},checkCode:function(){return this.loginForm.code?/^\d{6}$/.test(this.loginForm.code)?(this.code_error="",!0):(this.code_error="验证码格式不正确",!1):(this.code_error="验证码不能为空",!1)},login:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.checkMobile()||!this.checkCode()){e.next=7;break}return e.next=3,Object(u["d"])(this.loginForm);case 3:r=e.sent,c["a"].commit("updateUser",{user:r}),this.$gnotify({type:"success",message:"登录成功"}),this.$route.query.redirectUrl?this.$router.push(this.$route.query.redirectUrl):this.$router.push("/");case 7:case"end":return e.stop()}}),e,this)})));function r(){return e.apply(this,arguments)}return r}()}},s=l,a=(t("4353"),t("2877")),d=Object(a["a"])(s,o,n,!1,null,"0b7b52a1",null);r["default"]=d.exports},c24f:function(e,r,t){"use strict";t.d(r,"d",(function(){return n})),t.d(r,"a",(function(){return i})),t.d(r,"e",(function(){return c})),t.d(r,"c",(function(){return u})),t.d(r,"g",(function(){return l})),t.d(r,"b",(function(){return s})),t.d(r,"f",(function(){return a}));var o=t("b775");function n(e){return Object(o["a"])({url:"authorizations",method:"post",data:e})}function i(e){return Object(o["a"])({url:"/user/followings",method:"post",data:{target:e}})}function c(e){return Object(o["a"])({url:"user/followings/".concat(e),method:"delete"})}function u(){return Object(o["a"])({url:"/user"})}function l(e){return Object(o["a"])({url:"/user/photo",method:"patch",data:e})}function s(){return Object(o["a"])({url:"/user/profile",method:"get"})}function a(e){return Object(o["a"])({url:"/user/profile",method:"patch",data:e})}},d0c8:function(e,r,t){}}]);
//# sourceMappingURL=chunk-0c993997.015c3581.js.map